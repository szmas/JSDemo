<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
	 <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
    <div id="test" style="position: fixed; height: 100px; width: 100px; background-color: pink;"></div>
    <div>
        ssssssssssssssssssssssssssssssssssssssssssssssss
    </div>
    <script>
        document.onclick = function () {
            test.style.display = 'none';
        }
        document.oncontextmenu = function (e) {
            e = e || event;
            test.style.left = e.clientX -$('#test').width()/2+ 'px';
            test.style.top = e.clientY -$('#test').height()/2+ 'px';
            //注意，由于加法、减法的优先级高于大于、小于的优先级，所以不用加括号，详细情况移步至此
            if (document.documentElement.clientHeight - e.clientY < test.offsetHeight) {
                test.style.top = e.clientY - test.offsetHeight + 'px';
            }
            if (document.documentElement.clientWidth - e.clientX < test.offsetWidth) {
                test.style.left = document.documentElement.clientWidth - test.offsetHeight + 'px';
            }
            test.style.display = 'block';
            return false;
        }
    </script>

</body>
</html>
